\documentclass[tikz]{standalone}
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools}
\usepackage{tikz}
\usepackage{pgfplots, pgfplotstable}

%\pgfplotstableset{
%  create on use/test/.style={
%    create col/copy column from table={glebExactEnergyDifference1e-2.txt}{0}
%    }
%  }

\begin{document}

% TODO see tiens dottet without specific plot (i.e. dottet in general is
% eps-6 and the other the other eps

\pgfplotstableset{
  create on use/nrDof1e-2/.style={create col/copy column from 
  table={lvlOutputEps1e-2.txt}{nrDof}}
}

\pgfplotstableset{
  create on use/nrDof1e-6/.style={create col/copy column from 
  table={lvlOutputEps1e-6.txt}{nrDof}}
}

\begin{tikzpicture}
  \begin{loglogaxis}[legend pos = outer north east, 
    scale = 2, xlabel = {nrDof},      
    legend entries = {$\varepsilon = 1e-2$,
                     $\varepsilon = 1e-6$,
                     $\Vert u - u_h\Vert_{L^2(\Omega)}$,
                     $\eta$,
                     $\eta_\text{Vol}$,
                     $\eta_\text{Jumps}$,
                     GLEB}]
    \addlegendimage{only marks, mark=o}
    \addlegendimage{only marks, mark=square}
    \addlegendimage{no markers, cyan}
    \addlegendimage{no markers, green}
    \addlegendimage{no markers, red}
    \addlegendimage{no markers, orange}
    \addlegendimage{no markers, gray}

    \addplot [solid, cyan, mark = o] 
    table[x = {nrDof}, y = {error4lvl}] 
    {lvlOutputEps1e-2.txt}; 

    \addplot [solid, green, mark = o] 
    table[x = {nrDof}, y = {eta}] 
    {lvlOutputEps1e-2.txt}; 

    \addplot [solid, red, mark = o] 
    table[x = {nrDof}, y = {etaVol}] 
    {lvlOutputEps1e-2.txt}; 

    \addplot [solid, orange, mark = o] 
    table[x = {nrDof}, y = {etaJumps}] 
    {lvlOutputEps1e-2.txt}; 

    \addplot [solid, gray, mark = o] 
    table[x = nrDof1e-2, y index=0 ] 
    {glebExactEnergyDifference1e-2.txt}; 

    add slope triangle
    \draw (axis cs:1e4,1e0)--(axis cs:1e6,1e-1) 
                 -- (axis cs:1e6,1e0) node [midway, right] {$1$}
                 -- cycle node [midway, above] {$2$}; 	
                 %links unten, rechts unten
                 %oben
    %  \node at (axis cs: 1e6, 3e-1) [midway, right] {$1$};
    %  \node at (axis cs: 1e5, 1e0) [above] { $2$};

    \addplot [solid, cyan, mark = square] 
    table[x = {nrDof}, y = {error4lvl}] 
    {lvlOutputEps1e-6.txt}; 

    \addplot [solid, green, mark = square] 
    table[x = {nrDof}, y = {eta}] 
    {lvlOutputEps1e-6.txt}; 

    \addplot [solid, red, mark = square] 
    table[x = {nrDof}, y = {etaVol}] 
    {lvlOutputEps1e-6.txt}; 

    \addplot [solid, orange, mark = square] 
    table[x = {nrDof}, y = {etaJumps}] 
    {lvlOutputEps1e-6.txt}; 
   
    \addplot [dashed, gray, mark = diamond] 
    table[x = nrDof1e-6, y index=0 ] 
    {glebExactEnergyDifference1e-6.txt}; 
  \end{loglogaxis}
\end{tikzpicture}

%\begin{tikzpicture}
%  \begin{loglogaxis}
%    \addplot
%    table[x={nrDof}, y={error4lvl}]  
%    {f01/epsModerate/lvl15_nrDof1209309/lvlOutput.txt}
%  \end{loglogaxis}
%\end{tikzpicture}

\end{document}

