\documentclass[tikz]{standalone}
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools}
\usepackage{tikz}
\usepackage{pgfplots, pgfplotstable}

%\pgfplotstableset{
%  create on use/test/.style={
%    create col/copy column from table={glebExactEnergyDifference1e-2.txt}{0}
%    }
%  }

\pgfplotsset{compat=newest,
	axis background/.style={fill=black!5!white},
	grid style={densely dotted,semithick}
  }

\begin{document}

% TODO find here how csv files work
    % \addplot [dashed, black, thick, mark = diamond] 
    % table[col sep = comma, x = {nrDof}, y = {error4lvl}] 
    % {lvlOutput.csv}; 

\pgfplotstableset{col sep = comma, %space, (for txt files, than it works great)
  % create on use/nrDof1e-2/.style={create col/copy column from 
  % table={lvlOutputEps1e-2.txt}{nrDof}},
  % create on use/nrDof1e-6/.style={create col/copy column from 
  % table={lvlOutputEps1e-6.txt}{nrDof}}
}

\begin{tikzpicture}
  \begin{loglogaxis}[legend pos = outer north east, 
    scale = 2, xlabel = {nrDof},
    ymajorgrids=true]

    \addlegendentry{$\beta = \frac{1}{10}$}
    \addlegendimage{solid, mark=*}

    \addlegendentry{$\beta = \frac{1}{2}$}
    \addlegendimage{densely dashed, mark=square*}

    \addlegendentry{$\beta = \frac{9}{10}$}
    \addlegendimage{densely dotted, mark=triangle*}

    \addlegendentry{time in secondes}
    \addlegendimage{no markers, cyan}
    
    \addlegendentry{number of iterations}
    \addlegendimage{no markers, green}

    \addplot [solid, cyan, mark = *] 
    table[x = {nrDof}, y = {time}] 
    {beta1Tenth/1e-4/adaptive/lvl16/lvlOutput.csv}; 

    \addplot [solid, green, mark = *] 
    table[x = {nrDof}, y = {nrIterations}] 
    {beta1Tenth/1e-4/adaptive/lvl16/lvlOutput.csv}; 

    \addplot [densely dashed, cyan, mark = square*] 
    table[x = {nrDof}, y = {time}] 
    {beta5Tenth/1e-4/adaptive/lvl15/lvlOutput.csv}; 

    \addplot [densely dashed, green, mark = square*] 
    table[x = {nrDof}, y = {nrIterations}] 
    {beta5Tenth/1e-4/adaptive/lvl15/lvlOutput.csv}; 

    \addplot [densely dotted, cyan, mark = triangle*] 
    table[x = {nrDof}, y = {time}] 
    {beta9Tenth/1e-4/adaptive/lvl17/lvlOutput.csv}; 

    \addplot [densely dotted, green, mark = triangle*] 
    table[x = {nrDof}, y = {nrIterations}] 
    {beta9Tenth/1e-4/adaptive/lvl17/lvlOutput.csv}; 
  \end{loglogaxis}
\end{tikzpicture}
\end{document}

